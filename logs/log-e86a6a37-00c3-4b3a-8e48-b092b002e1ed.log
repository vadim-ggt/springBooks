2025-04-27 18:51:16 INFO  r.s.s.SpringBooksApplication - Starting SpringBooksApplication using Java 23.0.2 with PID 2072 (D:\VADIM\JAVA\springBooks\target\classes started by HP in D:\VADIM\JAVA\springBooks)
2025-04-27 18:51:16 INFO  r.s.s.SpringBooksApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-27 18:51:16 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-27 18:51:16 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-27 18:51:19 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-27 18:51:19 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 157 ms. Found 4 JPA repository interfaces.
2025-04-27 18:51:21 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-27 18:51:21 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-27 18:51:21 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-27 18:51:21 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-27 18:51:21 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-27 18:51:21 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4546 ms
2025-04-27 18:51:21 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-27 18:51:22 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-27 18:51:22 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-27 18:51:22 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-27 18:51:22 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-27 18:51:23 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@54729aa8
2025-04-27 18:51:23 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-27 18:51:23 WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-27 18:51:23 WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-04-27 18:51:23 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-04-27 18:51:25 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-27 18:51:25 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-27 18:51:27 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-27 18:51:29 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-27 18:51:29 INFO  o.s.v.b.OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-27 18:51:31 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-27 18:51:31 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-27 18:51:31 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-27 18:51:31 INFO  r.s.s.SpringBooksApplication - Started SpringBooksApplication in 15.956 seconds (process running for 19.151)
2025-04-27 18:52:03 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-27 18:52:03 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-27 18:52:03 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-04-27 18:52:03 INFO  r.s.s.aspects.LoggingAspect - << findAllBooks() - result: [Book(id=3, title=дфд335, author=romуау4, year=1907), Book(id=4, title=дфд3353, author=romуау42, year=1900), Book(id=5, title=дфд335ере3, author=romуккау42, year=1900), Book(id=7, title=дфд335ере32, author=romуккау422, year=1930), Book(id=10, title=Книга 1, author=Автор 1, year=1990), Book(id=11, title=Книга 2, author=Автор 2, year=2001), Book(id=13, title=Книга 2, author=Автор dd, year=1994), Book(id=14, title=Книга 3, author=Авторs, year=2003), Book(id=15, title=Книга 3, author=Автор dds, year=1994), Book(id=16, title=Книга 5, author=Авторs dd, year=2003), Book(id=17, title=Книга 4, author=Автор ddsd, year=1994), Book(id=18, title=Книга 7, author=Авторsd dd, year=2003)]
2025-04-27 18:52:03 INFO  r.s.s.aspects.LoggingAspect - << incrementVisitCount() - result: null
2025-04-27 18:52:03 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "org.apache.logging.log4j.Logger.info(String, Object)" because "log" is null] with root cause
2025-04-27 18:53:42 INFO  r.s.s.aspects.LoggingAspect - << getAllVisitCounts() - result: {/api/v1/books=1}
2025-04-27 18:54:24 INFO  r.s.s.aspects.LoggingAspect - << getTaskStatus() - result: NOT_FOUND
2025-04-27 18:54:25 INFO  r.s.s.aspects.LoggingAspect - << incrementVisitCount() - result: null
2025-04-27 18:54:25 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "org.apache.logging.log4j.Logger.info(String, Object)" because "log" is null] with root cause
2025-04-27 18:55:34 INFO  r.s.s.aspects.LoggingAspect - << getAllVisitCounts() - result: {/api/v1/logs/60a22a30-1b3f-4c87-ab13-1cd72a9ad4cf/file=1, /api/v1/books=1}
2025-04-27 18:56:41 INFO  r.s.s.aspects.LoggingAspect - << getVisitCount() - result: 1
2025-04-27 18:56:57 INFO  r.s.s.aspects.LoggingAspect - << getVisitCount() - result: 1
2025-04-27 18:57:05 INFO  r.s.s.aspects.LoggingAspect - << findAllBooks() - result: [Book(id=3, title=дфд335, author=romуау4, year=1907), Book(id=4, title=дфд3353, author=romуау42, year=1900), Book(id=5, title=дфд335ере3, author=romуккау42, year=1900), Book(id=7, title=дфд335ере32, author=romуккау422, year=1930), Book(id=10, title=Книга 1, author=Автор 1, year=1990), Book(id=11, title=Книга 2, author=Автор 2, year=2001), Book(id=13, title=Книга 2, author=Автор dd, year=1994), Book(id=14, title=Книга 3, author=Авторs, year=2003), Book(id=15, title=Книга 3, author=Автор dds, year=1994), Book(id=16, title=Книга 5, author=Авторs dd, year=2003), Book(id=17, title=Книга 4, author=Автор ddsd, year=1994), Book(id=18, title=Книга 7, author=Авторsd dd, year=2003)]
2025-04-27 18:57:05 INFO  r.s.s.aspects.LoggingAspect - << incrementVisitCount() - result: null
2025-04-27 18:57:05 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "org.apache.logging.log4j.Logger.info(String, Object)" because "log" is null] with root cause
2025-04-27 18:57:13 INFO  r.s.s.aspects.LoggingAspect - << getVisitCount() - result: 2
2025-04-27 18:57:33 INFO  r.s.s.aspects.LoggingAspect - << getTotalVisitCount() - result: 3
2025-04-27 19:00:00 INFO  r.s.s.s.impl.RequestServiceImpl - Updated 0 overdue requests
2025-04-27 19:00:40 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-27 19:00:40 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-27 19:00:40 INFO  r.s.springbooks.utils.CustomCache - Shutting down cache executor...
2025-04-27 19:00:40 INFO  r.s.springbooks.utils.CustomCache - Shutting down cache executor...
2025-04-27 19:00:40 INFO  r.s.springbooks.utils.CustomCache - Shutting down cache executor...
2025-04-27 19:00:40 INFO  r.s.springbooks.utils.CustomCache - Shutting down cache executor...
2025-04-27 19:00:40 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-27 19:00:40 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-27 19:00:40 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-27 19:00:48 INFO  r.s.s.SpringBooksApplication - Starting SpringBooksApplication using Java 23.0.2 with PID 14620 (D:\VADIM\JAVA\springBooks\target\classes started by HP in D:\VADIM\JAVA\springBooks)
2025-04-27 19:00:48 INFO  r.s.s.SpringBooksApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-27 19:00:48 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-27 19:00:48 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-27 19:00:50 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-27 19:00:50 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 165 ms. Found 4 JPA repository interfaces.
2025-04-27 19:00:52 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-27 19:00:52 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-27 19:00:52 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-27 19:00:52 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-27 19:00:52 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-27 19:00:52 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4378 ms
2025-04-27 19:00:53 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-27 19:00:53 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-27 19:00:53 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-27 19:00:54 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-27 19:00:54 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-27 19:00:54 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@427dc137
2025-04-27 19:00:54 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-27 19:00:55 WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-27 19:00:55 WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-04-27 19:00:55 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-04-27 19:00:57 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-27 19:00:57 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-27 19:00:59 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-27 19:01:02 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-27 19:01:02 INFO  o.s.v.b.OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-27 19:01:03 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-27 19:01:03 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-27 19:01:03 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-27 19:01:04 INFO  r.s.s.SpringBooksApplication - Started SpringBooksApplication in 16.799 seconds (process running for 18.52)
2025-04-27 19:01:07 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-27 19:01:07 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-27 19:01:07 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-04-27 19:01:08 INFO  r.s.s.aspects.LoggingAspect - << findAllBooks() - result: [Book(id=3, title=дфд335, author=romуау4, year=1907), Book(id=4, title=дфд3353, author=romуау42, year=1900), Book(id=5, title=дфд335ере3, author=romуккау42, year=1900), Book(id=7, title=дфд335ере32, author=romуккау422, year=1930), Book(id=10, title=Книга 1, author=Автор 1, year=1990), Book(id=11, title=Книга 2, author=Автор 2, year=2001), Book(id=13, title=Книга 2, author=Автор dd, year=1994), Book(id=14, title=Книга 3, author=Авторs, year=2003), Book(id=15, title=Книга 3, author=Автор dds, year=1994), Book(id=16, title=Книга 5, author=Авторs dd, year=2003), Book(id=17, title=Книга 4, author=Автор ddsd, year=1994), Book(id=18, title=Книга 7, author=Авторsd dd, year=2003)]
2025-04-27 19:01:08 INFO  r.s.s.aspects.LoggingAspect - << incrementVisitCount() - result: null
2025-04-27 19:01:37 INFO  r.s.s.aspects.LoggingAspect - << findAllBooks() - result: [Book(id=3, title=дфд335, author=romуау4, year=1907), Book(id=4, title=дфд3353, author=romуау42, year=1900), Book(id=5, title=дфд335ере3, author=romуккау42, year=1900), Book(id=7, title=дфд335ере32, author=romуккау422, year=1930), Book(id=10, title=Книга 1, author=Автор 1, year=1990), Book(id=11, title=Книга 2, author=Автор 2, year=2001), Book(id=13, title=Книга 2, author=Автор dd, year=1994), Book(id=14, title=Книга 3, author=Авторs, year=2003), Book(id=15, title=Книга 3, author=Автор dds, year=1994), Book(id=16, title=Книга 5, author=Авторs dd, year=2003), Book(id=17, title=Книга 4, author=Автор ddsd, year=1994), Book(id=18, title=Книга 7, author=Авторsd dd, year=2003)]
2025-04-27 19:01:37 INFO  r.s.s.aspects.LoggingAspect - << incrementVisitCount() - result: null
2025-04-27 19:02:26 INFO  r.s.s.aspects.LoggingAspect - << getTotalVisitCount() - result: 2
2025-04-27 19:04:34 INFO  r.s.s.aspects.LoggingAspect - << generateLogFileForDateAsync() - result: java.util.concurrent.CompletableFuture@559ba7c4[Not completed]